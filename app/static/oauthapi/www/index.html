<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <meta name="format-detection" content="telephone=no" />
        <link href="style.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="libs/jquery-1.11.1.js"></script>
        <script src="https://apis.google.com/js/client.js"></script>
        <script src="libs/phonegapi.js"></script>
        <script src="test.js"></script>
        <!-- Phone App Libs --> 
        <script src="libs/json2.js"></script> 
        <script src="libs/underscore-1.1.6.js"></script> 
        <script src="libs/backbone.js"></script> 
        <script src="libs/backbone.localStorage.js"></script> 
        <script src="data.js"></script> 
        <script src="inbox.js"></script>
        <style>
            body{background-color:white;font-family: Arial;margin: 0}
            .content {padding: 20px}
            .button {text-align: center;padding: 10px;border-radius: 10px;border: 1px solid #777;background-color: #ddd}
        </style>
        <title>OauthApi</title>
    </head>
    <body>
    <!-- Google API Test Module --> 
    <div class="content">
        <div class="button" onclick="signInTest()">Signin</div>
        <div class="button" onclick="signOutTest()">Signout</div>
        <div class="button" onclick="refreshTest()">Refresh</div>
        <div class="button" onclick="loadGmailApi()">List Mail Folders</div>
        <div id="logs"></div>
        <pre id="output"></pre>
    </div>
    <!-- Inbox App Interface --> 
    <div id="mailapp">
      <span style="margin-left:20px;">
        <select id="labeler">
          <option value=""> Apply Label </option>
          <option value="jQuery"> jQuery </option>
          <option value="Javascript"> Javascript </option>
          <option value="Backbone.js"> Backbone.js </option>
        </select> 
      </span>
      <span> <button id="markallread">Mark all as Read</button></span>
      <span> <button id="archive">Archive</button></span>
      <span> <input type="text" id="search" placeholder="Type to filter"/> </span>
      <div class="content"> 
        <div id="summary" style="float:left;width:100px;">
            <ul id="sidemenu">
            </ul>
        </div>
        <div id="mails" style="float:left;"> 
            <ul id="mail-list"></ul> 
        </div> 
      </div> 

    </div> 
    <!-- Templates --> 
    <script type="text/template" id="summary-tmpl">
    <li>
       <a href="#" id="inbox">
         <% if (inbox > 0 ) { %> <strong> Inbox (<%= inbox %>) </strong> <% } else { %> Inbox <% } %>
       </a>
    </li>
    <li>
       <a href="#" id="starred">
         <% if (starred > 0 ) { %> <strong> Starred (<%= starred %>) </strong> <% } else { %> Starred <% } %>
       </a>
    </li>
    <li><a href="#" id="allmail">All Mail</a></li>
    </script>

    <script type="text/template" id="mail-item"> 
      <div>
        <div class="mail">
          <a href="#">
            <% if (read == false) { %> <strong>  <% } %>
            <span style="float:left;width:20px;"><input class="check" type="checkbox" <%= selected? "checked='checked'":"" %> / > </span>
            <span style="float:left;width:20px;" <% if( star == true ) { %> class="star icon bookmark" <% } else { %> class="star icon nobookmark" <% } %> > &nbsp; </span>
            <span style="float:left;width:130px;" class="sender"><%= sender %></span>
            <span style="float:left;width:350px;" class="mail-subject"><%= subject %></span>
            <span style="float:left;width:100px;text-align:right;" class="timestamp"> <%= timestamp.getDate() + "-" + timestamp.getMonth() + "-" + timestamp.getFullYear() %></span>
            <% if (label != '') { %> 
              <span style="float:left;width:80px;" class="labels"> <%= label %></span> 
            <% } %>
            <div style="clear:both;"></div>
            <% if (read == false) { %> </strong>  <% } %>
          </a>
        </div>
      </div>
    </script>
    </body>
</html>
